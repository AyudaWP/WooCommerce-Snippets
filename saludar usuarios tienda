// Crea un shortcode de bienvenido a la tienda
function ayudawp_welcome_msg () {
$current_user = wp_get_current_user(); //obtenemos la informacion del usuario
if ( is_user_logged_in () && ( $current_user->user_firstname ) ) { //usuarios conectados con nombre de pila registrado
return '<p>Hola de nuevo ' . $current_user->user_firstname . '. ¡Gracias por tu fidelidad!'; //el mensaje
}
elseif ( is_user_logged_in () && ( ! $current_user->user_firstname ) ) { //usuarios conectados sin nombre de pila registrado
return '<p>Hola de nuevo ' . $current_user->nickname . '. ¡Gracias por tu fidelidad!'; //el mensaje
}
else {
return '¡Hola, gracias por visitarnos! Haz clic <a href = "/my-account/">aquí</a> para crear una cuenta o acceder.'; //para nuevos usuarios
}
}
add_shortcode('bienvenida', 'ayudawp_welcome_msg');
